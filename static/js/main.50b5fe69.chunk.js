(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(module,__webpack_exports__,__webpack_require__){"use strict";const processCode=async(e,t,a)=>new Promise((n,c)=>{setTimeout(()=>{try{const s=checkSolution({code:e,language:t,answer:a});n({status:s.status,output:s.output})}catch(r){c({status:"Error",output:"> Error: ".concat(String(r),"\n")})}},1e3)}),checkSolution=_ref=>{let{code:code,language:language,answer:answer}=_ref,statusOutput,startPrint=-1,i=0,newCode=code,step=0,endPrint;"python"===language&&(startPrint=code.indexOf("print("),console.log("startPrint=",startPrint),step=6),"javaScript"===language&&(startPrint=code.indexOf("console.log"),step=12),startPrint>=0&&(endPrint=code.indexOf(")",startPrint+step),newCode=code.substring(0,startPrint-1),newCode=newCode+"\n let x"+i+"="+code.substring(startPrint+step,endPrint)+"\n x"+i,code=code.substring(endPrint+1));let output=eval(newCode);return statusOutput=output===answer?"Success":"Error",{status:statusOutput,output:output}},mockServer=()=>{window.fetch=(async(e,t)=>(async e=>{if("POST"===e.method&&"/execute"===e.url){const{code:t,language:a,answer:n}=JSON.parse(e.body),c=await processCode(t,a,n);return new Response(JSON.stringify(c),{status:200,headers:{"Content-Type":"application/json"}})}return new Response("Not found",{status:404})})({method:(null===t||void 0===t?void 0:t.method)||"GET",url:e,headers:null===t||void 0===t?void 0:t.headers,body:null===t||void 0===t?void 0:t.body}))};__webpack_exports__.a=mockServer},20:function(e,t,a){e.exports=a(32)},29:function(e,t,a){},30:function(e,t,a){},32:function(e,t,a){"use strict";a.r(t);var n=a(3),c=a.n(n),r=a(13),s=a.n(r);a(29),a(30);function o(){return c.a.createElement("footer",{className:"page-footer pt-3"},c.a.createElement("div",{className:"footer-copyright"},c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-12 text-grey"},"\xa9 ",(new Date).getFullYear()," Development of Alena Motorina")))))}function l(e){let{numberTask:t=1,handleTaskChange:a,tasks:n}=e;return c.a.createElement("div",{className:"row bg-gray rounded-top-2"},c.a.createElement("div",{className:"col-12 p-3"},c.a.createElement("div",{className:"col-6"},c.a.createElement("select",{className:"form-select",value:t,onChange:a},n.map((e,t)=>c.a.createElement("option",{key:e.id,value:e.id},e.name))))))}function u(e){let{textTask:t}=e;return c.a.createElement("div",{className:"row overflow-y-auto task-text  border-gray"},c.a.createElement("div",{className:"col-12  "},c.a.createElement("div",{className:""},t)))}function i(e){let{textTask:t,numberTask:a,handleTaskChange:n,tasks:r}=e;return c.a.createElement("div",{className:"row h-100 pt-3 pe-lg-3"},c.a.createElement("div",{className:"col-12 h-100  bg-white"},c.a.createElement(l,{numberTask:a,handleTaskChange:n,tasks:r}),c.a.createElement(u,{textTask:t})))}function d(e){let{handleLanguageChange:t,language:a,isLoading:n,handleRunCode:r}=e;return c.a.createElement("div",{className:"editor-toolbar"},c.a.createElement("div",{className:"row bg-gray p-3  rounded-top-2"},c.a.createElement("div",{className:"col-6"},c.a.createElement("select",{className:"form-select",value:a,onChange:t},c.a.createElement("option",{value:"javascript"},"JavaScript"),c.a.createElement("option",{value:"python"},"Python"))),c.a.createElement("div",{className:"col-6 d-flex justify-content-end"},c.a.createElement("button",{className:"btn btn-primary",onClick:r,disabled:n},n?"Process...":"Run"))))}var m=a(17),g=a(11),p=a(18),h=a(19);const v=e=>{let{initialCode:t="",onChange:a,theme:r="dracula",language:s="javaScript",code:o=""}=e;const l=Object(n.useRef)(null);Object(n.useEffect)(()=>{a(t)},[t]);let u=[];switch(s){case"javascript":u=[Object(g.a)()];break;case"python":u=[Object(h.a)()];break;default:u=[Object(g.a)()]}const i=document.querySelector(".task-text");let d;return d=i?2*i.offsetHeight/3+"px":"500px",c.a.createElement("div",{className:"code-editor-container h-100"},c.a.createElement(m.a,{value:o,theme:"dracula"===r?p.a:void 0,height:d,extensions:u,onChange:e=>{a(e),a&&a(e)},onUpdate:e=>{l.current=e.view}}))};var E=a(16);function f(e){let{language:t,answer:a,handleLanguageChange:r,isLoading:s,handleRunCode:o,code:l,onChange:u}=e;return Object(n.useEffect)(()=>{Object(E.a)()},[]),c.a.createElement("div",{className:"row pt-3  "},c.a.createElement("div",{className:"col-12"},c.a.createElement(d,{handleLanguageChange:r,isLoading:s,language:t,handleRunCode:o})),c.a.createElement("div",{className:"col-12 h-100 p-0"},c.a.createElement("div",null,c.a.createElement(v,{initialCode:l,onChange:u,language:t,code:l}))))}function w(){return c.a.createElement("div",{className:"row "},c.a.createElement("div",{className:"col-12"},c.a.createElement("div",{className:" p-3  fs-6"},"Result")))}function b(e){let{consoleOutput:t=""}=e;const a=document.querySelector(".task-text");let n;return n=a?a.offsetHeight/3-56-16+"px":"100px",c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-12 h-100"},c.a.createElement("div",{className:"code-console overflow-y-auto",style:{height:"".concat(n)}},c.a.createElement("pre",null,t))))}function N(e){let{consoleOutput:t}=e;return c.a.createElement("div",{className:"row pt-3"},c.a.createElement("div",{className:"col-12 bg-gray rounded-top-2"},c.a.createElement(w,null)),c.a.createElement("div",{className:"col-12 h-100 bg-white border-gray"},c.a.createElement(b,{consoleOutput:t})))}var y=function(){const[e,t]=Object(n.useState)(!1),[a,r]=Object(n.useState)(""),[s,l]=Object(n.useState)("javaScript"),[u,d]=Object(n.useState)("//\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u044e\u0434\u0430 \u043a\u043e\u0434"),[m,g]=Object(n.useState)(0),p=[{id:0,name:"\u0417\u0430\u0434\u0430\u043d\u0438\u0435 1",description:"\u0412\u044b\u0432\u0435\u0434\u0438 \u043d\u0430 \u044d\u043a\u0440\u0430\u043d \u0442\u0435\u043a\u0441\u0442: Hello, world!",answer:"Hello, world!"},{id:1,name:"\u0417\u0430\u0434\u0430\u043d\u0438\u0435 2",description:'\u0415\u0441\u0442\u044c 2 \u0441\u0442\u0440\u043e\u043a\u0438 "abc" \u0438 "def". \n\r \u0412\u044b\u0432\u0435\u0434\u0438 \u043d\u0430 \u044d\u043a\u0440\u0430\u043d \u0441\u0442\u0440\u043e\u043a\u0443 "abcdef" ',answer:"abcdef"}],[h,v]=Object(n.useState)(p[0].answer),[E,w]=Object(n.useState)(p[0].description);return Object(n.useEffect)(()=>{(e=>{w(p[e].description)})(m)},[m]),c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"h-100vh  p-3"},c.a.createElement("div",{className:"container-fluid h-100-footer"},c.a.createElement("main",{className:"row h-100"},c.a.createElement("div",{className:"col-12  col-lg-4  "},c.a.createElement(i,{numberTask:m,handleTaskChange:e=>{g(+e.target.value),v(p[+e.target.value].answer)},textTask:E,tasks:p})),c.a.createElement("div",{className:"col-12  col-lg-8"},c.a.createElement(f,{language:s,answer:h,handleLanguageChange:e=>{l(e.target.value)},handleRunCode:async()=>{t(!0),r("Executing...\n");try{const a=await fetch("/execute",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:u,language:s,answer:h})});if(a.ok){const e=await a.json();r(e.output+"\n"+e.status)}else r("Error: ".concat(a.status," ").concat(a.statusText,"\n"))}catch(e){r("Error: ".concat(e.message,"\n"))}finally{t(!1)}},isLoading:e,code:u,onChange:e=>{d(e)}}),c.a.createElement(N,{consoleOutput:a}))),c.a.createElement(o,null))))};s.a.createRoot(document.getElementById("root")).render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(y,null)))}},[[20,1,2]]]);
//# sourceMappingURL=main.50b5fe69.chunk.js.map